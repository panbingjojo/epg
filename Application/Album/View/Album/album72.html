<!DOCTYPE html>
<html>
<head>
    <title>专辑title</title>
    <meta charset="utf-8" name="page-view-size" content="{$size}">

    <link rel="stylesheet" type="text/css" href="__ROOT__/Public/css/{$platformType}/common.css?t={$time}"/>
    <link rel="stylesheet" type="text/css" href="__ROOT__/Public/css/{$platformType}/Album/{$albumName}/album.css?t={$time}"/>

    <!--第三方依赖库-->
    <script type="text/javascript" src="__ROOT__/Public/ThirdParty/js/json2.js?t={$time}"></script>
    <if condition="$carrierId eq '520094' ">
        <!--贵州广电js文件-->
        <script type="text/javascript" src="__ROOT__/Public/ThirdParty/js/520094/gzgd.config.js?t={$time}"></script>
        <script type="text/javascript" src="__ROOT__/Public/ThirdParty/js/520094/starcorCom.js?t={$time}"></script>
        <else/>
    </if>
    <script type="text/javascript" src="__ROOT__/Public/Common/js/lmcommon.js?t={$time}"></script>
    <eq name="isRunOnAndroid" value="1">
        <script type="text/javascript" src="__ROOT__/Public/Common/js/android.js?t={$time}"></script>
    </eq>
    <script type="text/javascript" src="__ROOT__/Public/Common/js/lmui.js?t={$time}"></script>
    <script type="text/javascript" src="__ROOT__/Public/Common/js/lmplayer.js?t={$time}"></script>
    <script type="text/javascript" src="__ROOT__/Public/Common/js/lmauthEx.js?t={$time}"></script>
    <if condition="$carrierId eq '450094' ">
        <!-- 广西广电小窗视频播放 -->
        <script type="text/javascript" src="http://10.1.15.25/webJS/gxgd.config.js?t={$time}"></script>
        <script type="text/javascript" src="http://10.1.15.25/webJS/starcorCom.js?t={$time}"></script>
    </if>
    <!--当前模块js-->
    <script type="text/javascript" src="__ROOT__/Public/js/Album/album.1.01.js?t={$time}"></script>
    <script type="text/javascript" src="__ROOT__/Public/js/Player/LMSmallPlayer.js?t={$time}"></script>

    <!--贵州广电js初始化-->
    <script type="text/javascript">
        if ("{$carrierId}" == '520094') {
            //初始化视达科js中间件接口
            starcorCom.ready(function () {
                console.log("starcorCom has ready，version:" + starcorCom.get_version());
            });
        }

    </script>
</head>

<body id="body">
<div id="debug"></div>
<a href="#" id="default_link">.</a>
<div id="tabConent">

</div>
<img id="more" useType="more" src="__ROOT__/Public/img/{$platformType}/Album/album72/bg_more_video.png"/>
<img id="back" useType="back" src="__ROOT__/Public/img/{$platformType}/Album/album72/bg_back.png"/>
<script type="text/javascript">

    // TP框架控制器返回数据应用
    var TP = {
        vip: {$isVip},
        listMovePages: {$moveNum},           // 页数
        albumMovePages: {$moveAlbumNum},
        userId: '{$userId}',
        focusIDName: '{$focus_index}' == 'focus-1-1' ? 'focus-1' : '{$focus_index}',
        videoData: {$data}.data.video_list,  // 专题节目列表
        platformType: '{$platformType}',     // hd--高清 sd--标清
        lmcid: '{$carrierId}',
        inner: '{$inner}',
        fromLaunch:"{$fromLaunch}",
        albumName: '{$albumName}',          // 专辑名称
        domainUrl: '{$domainUrl}'           // 江苏电信需要使用的第三方播放器前缀地址\
    };

    // 本专辑控制器参数传递
    var param = {
        imgPrefixIndex: '__ROOT__/Public/img/{$platformType}/Album/album72/',
        buttons: [],
        V: 6,  // 渲染视频列表个数
        A: 3,                                // 渲染往期专辑的个数
        allVideoLength: 6,                   // 视频列表的总个数
        hasSmallVideo: false,    // 是否有小窗播放
        listVideoDirection: 'right',         // Video列表下一个翻页方向
        historyAlbum: false,
        hisAlbumDirection: 'right',               // 往期专题下一个翻页方向
        tabContent: 'tabConent',
        // 视频列表焦点移动方向
        firstAndLastListItemMove: {
            prev: '',
            next: '',
            up: 'back',
            down: "",
            left: '',
            right: ''
        },
        // 往期专题焦点移动方向
        firstAndLastAlbumItemMove: {
            prev: '',
            next: '',
            up: '',
            down: '',
            left: '',
            right: ''
        },
        // 更多精彩焦点移动方向
        moreItemMove: {
            up: '',
            down: 'focus-6',
            left: '',
            right: 'back'
        },
        // 返回焦点移动方向
        backItemMove: {
            up: '',
            down: 'focus-6',
            left: 'more',
            right: ''
        },
        // 小窗视频焦点移动方向
        videoTvItemMove: {
            up: '',
            down: '',
            left: '',
            right: ''
        },
        backPage: TP.lmcid == '000051' ? 'homeTab4' : 'home',
        backHomeTabNumber: '4',
        morePageName: 'channel', // 设置查看更多跳转路径
        // 设置往期专辑索引,不同区域不同专辑
        setAlbumIndex: (function () {
            var a = 46,
                b = 67,
                c = 70,
                d = 71;
            return [
                {index: a, album: 'album' + a},
                {index: b, album: 'album' + b},
                {index: c, album: 'album' + c},
                {index: d, album: "album" + d},
                {index: 'more', album: 'more'}];
        }()),
        // 钩子函数->解决不同区域背景图和已知差异化
        different: function () {
            var bodyBg = 'bg_album.png';
            switch (TP.lmcid) {
                case '630092':
                    var bodyBg = 'bg_album_qh.png';
                    this.morePageName = 'MenuTabLevelThree'; // 设置宁夏、青海电信查看更多跳转地址
                    break;
                case '640092':
                    bodyBg = 'bg_album.png';
                    this.morePageName = 'MenuTabLevelThree'; // 设置宁夏、青海电信查看更多跳转地址
                    break;
                case '450094':
                    this.hasSmallVideo = false;
//                    G('videoTv').parentNode.removeChild(G('videoTv')); // 广西广电没有视频小窗
                    break;
                case '420092': // 湖北电信没有免费图标
                    S('hd-free');
                    break;
                default:
                    bodyBg = 'bg_album.png';
                    break;
            }
            G('body').style.backgroundImage = 'url(' + this.imgPrefixIndex + bodyBg + ')';
        },
        // 钩子函数->焦点移动
        hookMoveFocus: function (key, btn) {
        }
    };

    // 调用模块总成函数
    App.init(param);
    lmInitGo();
</script>
</body>
</html>